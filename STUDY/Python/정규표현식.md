
# 정규 표현식(Regular Expression)


- 파이썬은 정규 표현식을 지원하기 위한 re(Regular Expression)모듈을 제공

```python
import re
# 1
p = re.compile('ab*')
m = p.match('python')

# 2
p = re.match('[a-z]+', "python") # 한 번에 수행 가능
```

- `re.compile`
    - 정규표현식을 컴파일하는 함수
    - 파이썬에게 전달해주는 역할 
    - 찾고자 하는 패턴이 빈번한 경우에는 미리 컴파일 해놓고 사용하면 속도와 편의성면에서 유리함

<br>

## 정규식 문법

| Pattern | Description | Exam |
|:-------:|--------------------|
| [문자들] | 가능한 문자들의 집합을 정의 | [Pp]ython : "Python" or "python" |
| [^문자들] | 여집합을 정의 | [^Pp] p나P가 들어가지 않는 것을 찾음|
|^ |	이 패턴으로 시작	| ^abc : abc로 시작해야 함 (abcd, abc12 등) |
| $ |	이 패턴으로 종료 |	xyz$ : xyz로 종료되어야 함 (123xyz, strxyz 등) |
| \| |	두 패턴 중 하나이어야 함 (OR 기능) | a \| b : a 또는 b 이어야 함 |
| ?| 앞 패턴이 없거나 하나이어야 함 (Optional 패턴을 정의할 때 사용) |	\d? : 숫자가 하나 있거나 없어야 함 |
| + | 앞 패턴이 하나 이상이어야 함| \d+ : 숫자가 하나 이상이어야 함 |
| * | 앞 패턴이 0개 이상이어야 함 | \d* : 숫자가 없거나 하나 이상이어야 함 |
|패턴{n} | 정확히 n번 반복해서 나타나는 경우	| \d{3} : 숫자가 3개 있어야 함 |
| 패턴{n, m} | n이상 m이하 반복해서 나타나는 경우 (n 또는 m 은 생략 가능) | \d{3,5} : 숫자가 3개, 4개 혹은 5개 |
| \d | [0-9]와 동일 | \d\d\d : 0 ~ 9 범위의 숫자가 3개를 의미 (123, 000 등) |
| \w | [a-zA-Z_0-9]]와 동일 | \w\w\w : 문자가 3개를 의미 (xyz, ABC 등)|
| \s | 화이트 스페이스를 의미 [\t\n\r\f] 와 동일 | \s\s : 화이트 스페이스 문자 2개 의미 (\r\n, \t\t 등)|
| . | 뉴라인(\n) 을 제외한 모든 문자를 의미	| .{3} : 문자 3개 (F15, 0x0 등) |

<br>

## 정규식을 이용한 검색

| Method | Description |
|--------------|------|
|re.match() | 문자열의 처음이 정규식과 일치하는지 검색 |
|re.search() | 문자열 전체를 검색하여 정규식과 일치하는지 검색, 첫번째 일치하는 문자열만 반환 |
|re.findall() | 정규식과 일치하는 모든 문자열을 리스트로 반환 |
|re.finditer() | 정규식과 일치하는 모든 문자열을 반복 가능한 객체로 반환 |
|re.sub         | 문자열에서 정규식과 일치하는 부분을 다른 문자열로 대체 |

<br>

### re.match()

```python
import re 
p = re.compile('[a-z]+')
m = p.match('python')
if m:
    print(m.group()) # python
else:
    print('No Match')
```

<br>

### re.search()

```python
p = re.compile('[a-z]+')
m = p.search('hi python')

print(m) # <re.Match object; span=(0, 2), match='hi'>
```

<br>

### re.findall()

```python
import re 
p = re.compile('[a-zA-Z]+')
m = p.findall('As soon as possible')

print(m) # ['As', 'soon', 'as', 'possible']
```

<br>

### re.finditer

- 각각 match 객체로 반환

```python
import re 
p = re.compile('[a-zA-Z]+')
m = p.finditer('As soon as possible')

for _m in m:
    print(_m.group())
# As
# soon
# as
# possible
```
<br>

## match 객체의 메서드

| Method | Description |
|--------|-------------|
|group() | 일치하는 문자열을 반환|
|start() | 시작점을 반환(index)|
|end() | 종점을 반환(index)|
|span() |(start, end)|

```python
import re 
p = re.compile('[a-zA-Z]+')
m = p.search('123 python')

print(m.group()) # python
print(m.start()) # 4
print(m.end()) # 10
print(m.span()) # (4, 10)
```

<br>

## Compile Option

| Option | Description |
|--------|--------------|
| re.DOTALL | `.` 줄바꿈 문자를 포함해서 모든 문자와 매치 할 수 있도록 해줌 |
| re.I (= re.IGNORECASE) | 대소문자 구별 없이 매치 |
| re.M (= re.MULTILINE) | 문자열 라인마다 매치 | 
| re.X (= re.VERBOSE) | 문자열에 사용된 whitespace는 제거, # 주석문 사용 가능 |